<div class="login-container">
	<div class="login-wrapper">
		<!-- Left Promotional Section -->
		<div class="promotional-section">
			<div class="promotional-content">
				<!-- Main Headline -->
				<div class="headline">
					<h1>Get your headshots in <span class="highlight">minutes</span>, not days</h1>
				</div>
				
				<!-- Headshot Grid -->
				<div class="headshot-grid">
					<div class="headshot-item">
						<img src="assets/images/headshot1.jpg" alt="Professional headshot" />
					</div>
					<div class="headshot-item">
						<img src="assets/images/headshot2.jpg" alt="Professional headshot" />
					</div>
					<div class="headshot-item">
						<img src="assets/images/headshot1.jpg" alt="Professional headshot" />
					</div>
					<div class="headshot-item">
						<img src="assets/images/headshot2.jpg" alt="Professional headshot" />
					</div>
					<div class="headshot-item">
						<img src="assets/images/headshot1.jpg" alt="Professional headshot" />
					</div>
					<div class="headshot-item">
						<img src="assets/images/headshot2.jpg" alt="Professional headshot" />
					</div>
				</div>
				
				<!-- Trustpilot Rating -->
				<div class="trustpilot-rating">
					<div class="trustpilot-logo">
						<span class="trustpilot-text">Trustpilot</span>
						<div class="stars">
							<span class="star">‚òÖ</span>
							<span class="star">‚òÖ</span>
							<span class="star">‚òÖ</span>
							<span class="star">‚òÖ</span>
							<span class="star">‚òÖ</span>
						</div>
					</div>
				</div>
				
				<!-- Testimonial -->
				<div class="testimonial">
					<blockquote>
						"These are GORGEOUS! I love how the AI figured out my best facial features and showcased them professionally in these 100 headshots. I am incredibly happy with this finished products. I am telling all of my friends."
					</blockquote>
					<div class="testimonial-author">
						<img src="assets/images/annmarie.jpg" alt="Annmarie" class="author-avatar" />
						<span class="author-name">Annmarie</span>
					</div>
				</div>
				
				<!-- Trusted by companies -->
				<div class="trusted-by">
					<p class="trusted-by-text">Trusted by teams at</p>
					<div class="company-logos">
						<div class="company-logo">REDFIN</div>
						<div class="company-logo">Trinity College Dublin</div>
						<div class="company-logo">NEW YORK UNIVERSITY</div>
						<div class="company-logo">ASU</div>
						<div class="company-logo">UC Berkeley</div>
						<div class="company-logo">Microsoft</div>
					</div>
				</div>
			</div>
		</div>
		
		<!-- Right Login Form Section -->
		<div class="login-form-section">
			<div class="login-form-container">
				<!-- Header -->
				<div class="form-header">
					<div class="brand-logo">
						<span class="flame-icon">üî•</span>
						<span class="brand-name">PhotoAI.ai</span>
					</div>
				</div>
				
				<!-- Social Login Buttons -->
				<div class="social-login">
					<asl-google-signin-button type='icon' size='medium'></asl-google-signin-button>
					<button class="social-btn facebook-btn" (click)="signInWithFB()" [disabled]="loading">
						<span class="social-icon">f</span>
						Continue with Facebook
					</button>
				</div>
				
				<!-- Separator -->
				<div class="separator">
					<div class="separator-line"></div>
					<span class="separator-text">OR</span>
					<div class="separator-line"></div>
				</div>
				
				<!-- Email Form -->
				<form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="email-form">
					<alert></alert>
					
					<!-- Loading Spinner -->
					<div class="loading-spinner" *ngIf="loading">
						<div class="spinner"></div>
					</div>
					
					<div class="email-input-group">
						<input 
							type="email" 
							formControlName="userName" 
							placeholder="Type your email address" 
							class="email-input"
							[ngClass]="{ 'is-invalid': f.userName.errors }"
						/>
						<span class="email-icon">‚úâÔ∏è</span>
						<div *ngIf="f.userName.errors" class="invalid-feedback">
							<div *ngIf="f.userName.errors.required">Email is required</div>
						</div>
					</div>
					
					
					<div class="password-input-group">
						<input 
							type="password" 
							formControlName="password" 
							placeholder="Password" 
							class="password-input"
							[ngClass]="{ 'is-invalid': f.password.errors }"
						/>
						<div *ngIf="f.password.errors" class="invalid-feedback">
							<div *ngIf="f.password.errors.required">Password is required</div>
						</div>
					</div>
					
					<button type="submit" class="email-submit-btn">Continue with Email</button>
					<div class="forgot-password" *ngIf="showPasswordField">
						<a routerLink="/forgot-password" class="forgot-link">Forgot password?</a>
					</div>
				</form>
				
				<!-- Legal Text -->
				<div class="legal-text">
					New accounts are subject to our <a href="#" class="legal-link">Terms</a> and <a href="#" class="legal-link">Privacy Policy</a>.
				</div>
				
				<!-- Security Info -->
				<div class="security-info">
					<div class="security-item">
						<span class="security-icon">üîí</span>
						<span class="security-text">Security built for Fortune 500 companies.</span>
					</div>
					<div class="security-item">
						<span class="security-icon">‚úÖ</span>
						<span class="security-text">100% Money Back Guarantee.</span>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<script>
function handleCredentialResponse(response) {
    console.log('Google OAuth response:', response);
    
    if (response.credential) {
        // Send credential to your backend
        fetch('http://localhost:7755/v1/oauth/google/callback', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded',
            },
            body: 'credential=' + encodeURIComponent(response.credential) + '&g_csrf_token=' + encodeURIComponent(response.g_csrf_token || '')
        })
        .then(response => response.json())
        .then(data => {
            console.log('Backend response:', data);
            if (data.status === '000') {
                // Success - redirect to home page
                window.location.href = '/home';
            } else {
                alert('Login failed: ' + data.message);
            }
        })
        .catch(error => {
            console.error('Error:', error);
            alert('Login failed: ' + error.message);
        });
    } else {
        console.error('No credential received');
        alert('Google login failed: No credential received');
    }
}
</script>
