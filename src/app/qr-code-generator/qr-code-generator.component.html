<div class="qr-generator-container">
  <div class="hero-section">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center">
          <h1 class="hero-title">QR Code Generator</h1>
          <p class="hero-subtitle">Create custom QR codes for URLs, text, contact information, and more</p>
        </div>
      </div>
    </div>
  </div>

  <div class="main-content">
    <div class="container">
      <div class="row">
        <!-- Left Panel - Form -->
        <div class="col-lg-6 form-panel-col">
          <div class="form-panel">
            <h3>QR Code Settings</h3>
            <div class="qr-type-tabs">
              <button *ngFor="let type of qrTypes"
                      class="qr-type-tab"
                      [class.active]="selectedType === type.key"
                      (click)="setType(type.key)">
                <i [class]="type.icon"></i> {{ type.label }}
              </button>
            </div>
            <!-- Only show form for Link type for now -->
            <form *ngIf="selectedType === 'link'" [formGroup]="qrForm" (ngSubmit)="generateQRCode()">
              <div class="form-group">
                <label for="text">URL</label>
                <input id="text" formControlName="text" class="form-control" type="url" placeholder="http://" />
                <div class="form-text">Enter the URL you want to encode in the QR code</div>
              </div>

              <!-- Size Slider -->
              <div class="form-group">
                <label for="size">Size: {{qrForm.get('size')?.value}}px</label>
                <input 
                  type="range" 
                  id="size"
                  formControlName="size"
                  class="form-control-range"
                  min="100" 
                  max="1000" 
                  step="10"
                >
                <div class="form-text">Adjust the size of your QR code (100-1000px)</div>
              </div>

              <!-- Color Picker -->
              <div class="form-group">
                <label for="color">QR Code Color</label>
                <input 
                  type="color" 
                  id="color"
                  formControlName="color"
                  class="form-control"
                >
              </div>

              <!-- Background Color -->
              <div class="form-group">
                <label for="bgColor">Background Color</label>
                <input 
                  type="color" 
                  id="bgColor"
                  formControlName="bgColor"
                  class="form-control"
                >
              </div>

              <!-- Error Correction -->
              <div class="form-group">
                <label for="errorCorrection">Error Correction Level</label>
                <select id="errorCorrection" formControlName="errorCorrection" class="form-control">
                  <option value="L">Low (7%)</option>
                  <option value="M">Medium (15%)</option>
                  <option value="Q">Quartile (25%)</option>
                  <option value="H">High (30%)</option>
                </select>
                <div class="form-text">Higher levels allow the QR code to work even if partially damaged</div>
              </div>

              <!-- Margin -->
              <div class="form-group">
                <label for="margin">Margin</label>
                <input 
                  type="range" 
                  id="margin"
                  formControlName="margin"
                  class="form-control-range"
                  min="0" 
                  max="10" 
                  step="1"
                >
                <div class="form-text">White space around the QR code</div>
              </div>

              <!-- Generate Button -->
              <div class="form-group">
                <button 
                  type="submit" 
                  class="btn btn-primary btn-lg btn-block"
                  [disabled]="!qrForm.valid || isGenerating"
                >
                  <span *ngIf="!isGenerating">Generate QR Code</span>
                  <span *ngIf="isGenerating">Generating...</span>
                </button>
              </div>

              <!-- Clear Button -->
              <div class="form-group">
                <button 
                  type="button" 
                  class="btn btn-outline-secondary btn-block"
                  (click)="clearQRCode()"
                >
                  Clear
                </button>
              </div>
            </form>
            <!-- Form cho loại Text -->
            <form *ngIf="selectedType === 'text'" [formGroup]="qrForm" (ngSubmit)="generateQRCode()">
              <div class="form-group">
                <label for="text">Text</label>
                <textarea id="text" formControlName="text" class="form-control" rows="4" placeholder="Enter your text..."></textarea>
                <div class="form-text">Enter the text you want to encode in the QR code</div>
              </div>

              <!-- Size Slider -->
              <div class="form-group">
                <label for="size">Size: {{qrForm.get('size')?.value}}px</label>
                <input 
                  type="range" 
                  id="size"
                  formControlName="size"
                  class="form-control-range"
                  min="100" 
                  max="1000" 
                  step="10"
                >
                <div class="form-text">Adjust the size of your QR code (100-1000px)</div>
              </div>

              <!-- Color Picker -->
              <div class="form-group">
                <label for="color">QR Code Color</label>
                <input 
                  type="color" 
                  id="color"
                  formControlName="color"
                  class="form-control"
                >
              </div>

              <!-- Background Color -->
              <div class="form-group">
                <label for="bgColor">Background Color</label>
                <input 
                  type="color" 
                  id="bgColor"
                  formControlName="bgColor"
                  class="form-control"
                >
              </div>

              <!-- Error Correction -->
              <div class="form-group">
                <label for="errorCorrection">Error Correction Level</label>
                <select id="errorCorrection" formControlName="errorCorrection" class="form-control">
                  <option value="L">Low (7%)</option>
                  <option value="M">Medium (15%)</option>
                  <option value="Q">Quartile (25%)</option>
                  <option value="H">High (30%)</option>
                </select>
                <div class="form-text">Higher levels allow the QR code to work even if partially damaged</div>
              </div>

              <!-- Margin -->
              <div class="form-group">
                <label for="margin">Margin</label>
                <input 
                  type="range" 
                  id="margin"
                  formControlName="margin"
                  class="form-control-range"
                  min="0" 
                  max="10" 
                  step="1"
                >
                <div class="form-text">White space around the QR code</div>
              </div>

              <!-- Generate Button -->
              <div class="form-group">
                <button 
                  type="submit" 
                  class="btn btn-primary btn-lg btn-block"
                  [disabled]="!qrForm.valid || isGenerating"
                >
                  <span *ngIf="!isGenerating">Generate QR Code</span>
                  <span *ngIf="isGenerating">Generating...</span>
                </button>
              </div>

              <!-- Clear Button -->
              <div class="form-group">
                <button 
                  type="button" 
                  class="btn btn-outline-secondary btn-block"
                  (click)="clearQRCode()"
                >
                  Clear
                </button>
              </div>
            </form>
            <!-- Form cho loại E-mail -->
            <form *ngIf="selectedType === 'email'" [formGroup]="emailForm" (ngSubmit)="generateQRCode()">
              <div class="form-group">
                <label for="to">To</label>
                <input id="to" formControlName="to" class="form-control" type="email" placeholder="example@email.com" />
              </div>
              <div class="form-group">
                <label for="subject">Subject</label>
                <input id="subject" formControlName="subject" class="form-control" type="text" placeholder="Subject" />
              </div>
              <div class="form-group">
                <label for="body">Message</label>
                <textarea id="body" formControlName="body" class="form-control" rows="3" placeholder="Message..."></textarea>
              </div>
              <!-- Các trường tuỳ chỉnh QR giữ nguyên -->
              <div class="form-group">
                <label for="size">Size: {{qrForm.get('size')?.value}}px</label>
                <input type="range" id="size" formControlName="size" class="form-control-range" min="100" max="1000" step="10">
              </div>
              <div class="form-group">
                <label for="color">QR Code Color</label>
                <input type="color" id="color" formControlName="color" class="form-control">
              </div>
              <div class="form-group">
                <label for="bgColor">Background Color</label>
                <input type="color" id="bgColor" formControlName="bgColor" class="form-control">
              </div>
              <div class="form-group">
                <label for="errorCorrection">Error Correction Level</label>
                <select id="errorCorrection" formControlName="errorCorrection" class="form-control">
                  <option value="L">Low (7%)</option>
                  <option value="M">Medium (15%)</option>
                  <option value="Q">Quartile (25%)</option>
                  <option value="H">High (30%)</option>
                </select>
              </div>
              <div class="form-group">
                <label for="margin">Margin</label>
                <input type="range" id="margin" formControlName="margin" class="form-control-range" min="0" max="10" step="1">
              </div>
              <div class="form-group">
                <button type="submit" class="btn btn-primary btn-lg btn-block" [disabled]="!emailForm.valid || isGenerating">
                  <span *ngIf="!isGenerating">Generate QR Code</span>
                  <span *ngIf="isGenerating">Generating...</span>
                </button>
              </div>
              <div class="form-group">
                <button type="button" class="btn btn-outline-secondary btn-block" (click)="clearQRCode()">Clear</button>
              </div>
            </form>
            <!-- Form cho loại Phone -->
            <form *ngIf="selectedType === 'phone'" [formGroup]="phoneForm" (ngSubmit)="generateQRCode()">
              <div class="form-group">
                <label for="phone">Phone Number</label>
                <input id="phone" formControlName="phone" class="form-control" type="tel" placeholder="Phone number" />
              </div>
              <!-- Các trường tuỳ chỉnh QR giữ nguyên -->
              <div class="form-group">
                <label for="size">Size: {{qrForm.get('size')?.value}}px</label>
                <input type="range" id="size" formControlName="size" class="form-control-range" min="100" max="1000" step="10">
              </div>
              <div class="form-group">
                <label for="color">QR Code Color</label>
                <input type="color" id="color" formControlName="color" class="form-control">
              </div>
              <div class="form-group">
                <label for="bgColor">Background Color</label>
                <input type="color" id="bgColor" formControlName="bgColor" class="form-control">
              </div>
              <div class="form-group">
                <label for="errorCorrection">Error Correction Level</label>
                <select id="errorCorrection" formControlName="errorCorrection" class="form-control">
                  <option value="L">Low (7%)</option>
                  <option value="M">Medium (15%)</option>
                  <option value="Q">Quartile (25%)</option>
                  <option value="H">High (30%)</option>
                </select>
              </div>
              <div class="form-group">
                <label for="margin">Margin</label>
                <input type="range" id="margin" formControlName="margin" class="form-control-range" min="0" max="10" step="1">
              </div>
              <div class="form-group">
                <button type="submit" class="btn btn-primary btn-lg btn-block" [disabled]="!phoneForm.valid || isGenerating">
                  <span *ngIf="!isGenerating">Generate QR Code</span>
                  <span *ngIf="isGenerating">Generating...</span>
                </button>
              </div>
              <div class="form-group">
                <button type="button" class="btn btn-outline-secondary btn-block" (click)="clearQRCode()">Clear</button>
              </div>
            </form>
            <!-- Form cho loại SMS -->
            <form *ngIf="selectedType === 'sms'" [formGroup]="smsForm" (ngSubmit)="generateQRCode()">
              <div class="form-group">
                <label for="phone">Phone Number</label>
                <input id="phone" formControlName="phone" class="form-control" type="tel" placeholder="Phone number" />
              </div>
              <div class="form-group">
                <label for="message">Message</label>
                <textarea id="message" formControlName="message" class="form-control" rows="3" placeholder="Message..."></textarea>
              </div>
              <!-- Các trường tuỳ chỉnh QR giữ nguyên -->
              <div class="form-group">
                <label for="size">Size: {{qrForm.get('size')?.value}}px</label>
                <input type="range" id="size" formControlName="size" class="form-control-range" min="100" max="1000" step="10">
              </div>
              <div class="form-group">
                <label for="color">QR Code Color</label>
                <input type="color" id="color" formControlName="color" class="form-control">
              </div>
              <div class="form-group">
                <label for="bgColor">Background Color</label>
                <input type="color" id="bgColor" formControlName="bgColor" class="form-control">
              </div>
              <div class="form-group">
                <label for="errorCorrection">Error Correction Level</label>
                <select id="errorCorrection" formControlName="errorCorrection" class="form-control">
                  <option value="L">Low (7%)</option>
                  <option value="M">Medium (15%)</option>
                  <option value="Q">Quartile (25%)</option>
                  <option value="H">High (30%)</option>
                </select>
              </div>
              <div class="form-group">
                <label for="margin">Margin</label>
                <input type="range" id="margin" formControlName="margin" class="form-control-range" min="0" max="10" step="1">
              </div>
              <div class="form-group">
                <button type="submit" class="btn btn-primary btn-lg btn-block" [disabled]="!smsForm.valid || isGenerating">
                  <span *ngIf="!isGenerating">Generate QR Code</span>
                  <span *ngIf="isGenerating">Generating...</span>
                </button>
              </div>
              <div class="form-group">
                <button type="button" class="btn btn-outline-secondary btn-block" (click)="clearQRCode()">Clear</button>
              </div>
            </form>
          </div>
        </div>

        <!-- Right Panel - QR Code Display -->
        <div class="col-lg-6 qr-display-col">
          <div class="qr-display-panel">
            <h3>Generated QR Code</h3>
            
            <div class="qr-code-container" *ngIf="qrCodeData">
              <canvas #qrCanvas class="qr-canvas"></canvas>
              
              <div class="qr-actions mt-3">
                <button 
                  class="btn btn-success mr-2"
                  (click)="downloadQRCode()"
                >
                  <i class="fas fa-download"></i> Download PNG
                </button>
                <button 
                  class="btn btn-info"
                  (click)="copyToClipboard()"
                >
                  <i class="fas fa-copy"></i> Copy to Clipboard
                </button>
              </div>
            </div>

            <div class="qr-placeholder" *ngIf="!qrCodeData">
              <div class="placeholder-content">
                <i class="fas fa-qrcode placeholder-icon"></i>
                <p>Your QR code will appear here</p>
                <p class="text-muted">Enter content and click "Generate QR Code" to create your custom QR code</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Features Section -->
  <div class="features-section">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center">
          <h2>Why Use Our QR Code Generator?</h2>
        </div>
      </div>
      <div class="row mt-4">
        <div class="col-lg-4">
          <div class="feature-card">
            <i class="fas fa-palette feature-icon"></i>
            <h4>Customizable</h4>
            <p>Choose your own colors, size, and error correction level to match your brand</p>
          </div>
        </div>
        <div class="col-lg-4">
          <div class="feature-card">
            <i class="fas fa-download feature-icon"></i>
            <h4>High Quality</h4>
            <p>Download your QR codes as high-resolution PNG images for professional use</p>
          </div>
        </div>
        <div class="col-lg-4">
          <div class="feature-card">
            <i class="fas fa-shield-alt feature-icon"></i>
            <h4>Secure</h4>
            <p>Your data is processed locally in your browser - we never store your information</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Usage Examples -->
  <div class="examples-section">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center">
          <h2>What Can You Create?</h2>
        </div>
      </div>
      <div class="row mt-4">
        <div class="col-lg-3 col-md-6">
          <div class="example-card">
            <i class="fas fa-link example-icon"></i>
            <h5>Website URLs</h5>
            <p>Share your website with a simple scan</p>
          </div>
        </div>
        <div class="col-lg-3 col-md-6">
          <div class="example-card">
            <i class="fas fa-phone example-icon"></i>
            <h5>Contact Info</h5>
            <p>Share your phone number and email</p>
          </div>
        </div>
        <div class="col-lg-3 col-md-6">
          <div class="example-card">
            <i class="fas fa-map-marker-alt example-icon"></i>
            <h5>Location</h5>
            <p>Share GPS coordinates or addresses</p>
          </div>
        </div>
        <div class="col-lg-3 col-md-6">
          <div class="example-card">
            <i class="fas fa-wifi example-icon"></i>
            <h5>WiFi Network</h5>
            <p>Share WiFi credentials easily</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div> 